<!--master page code-->
<nav class="navbar navbar-expand-lg navbar-light bg-light" style="left: 0; top: 0; width: 100%">
  <div class="container-fluid">
    <a class="navbar-brand" href="#">
      <img src="../../../../assets/images/DepartmentEducationLogo.png" style="width: 160px; height: auto;">
    </a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
      aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
        <li class="nav-item">
          <a class="nav-link active" aria-current="page" href="#">Home</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#">About</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#">Contact</a>
        </li>
      </ul>
    </div>
  </div>
</nav>
<!--Master page code-->
<br>

<div class="row w-100 mx-0 auth-page">
  <div class="col-md-8 col-xl-6 mx-auto">
    <div class="card">
      <div class="row justify-content-center">
        <div class="col-md-8 pl-md-0">
          <div class="auth-form-wrapper px-4 py-5">
            <img src="../assets/images/DepartmentEducationLogo.png ">
            <h5 class="text-muted font-weight-normal mb-4 text-center">Confirm Reset Password</h5>
            <p class="text-center text-info">*Password must be a minumum of 8 characters, contains uppercase, lowercase,
              numerica and special characters</p>
            <br>

            <form (ngSubmit)="form1Submit()" [formGroup]="validationForm1">

              <div class="form-group row">
                <label for="temporarypassword" class="col-sm-4 col-form-label">Temporary Password</label>
                <div class="col-sm-8">
                  <input type="password" [(ngModel)]="temporarypassword" class="form-control" id="temporarypassword"
                    formControlName="temporarypassword" (keyup)="fieldChange()"
                    [ngClass]="{'is-invalid': isForm1Submitted && form1.temporarypassword.errors || isForm1Submitted && !isPasswordValid}"
                    placeholder="Type here">
                  <div *ngIf="isForm1Submitted && form1.temporarypassword.errors?.required" class="invalid-feedback">
                    Required
                  </div>
                  <div *ngIf="isForm1Submitted && !isPasswordValid" class="invalid-feedback">
                    Incorrect password
                  </div>
                </div>
              </div>
              
              <div class="form-group row">
                <label for="password" class="col-sm-4 col-form-label">New Password</label>
                <div class="col-sm-8">
                  <input type="password" [(ngModel)]="password" class="form-control" id="password"
                    formControlName="password" pattern="^(?=.*[0-9])(?=.*[!@#$%^&*~-])[a-zA-Z0-9!@#$%^&*~-]{8,20}$"
                    [ngClass]="{'is-invalid': isForm1Submitted && form1.password.errors}" placeholder="Type here" 
                    (keyup) ="CheckPatternUppercase(password)" (keyup) ="CheckPatternLowercase(password)" >
                  <div *ngIf="isForm1Submitted && form1.password.errors?.required" class="invalid-feedback">
                    Required
                  </div>
                  <div *ngIf="isForm1Submitted && form1.password.errors?.pattern" class="invalid-feedback">
                    <ul>
                      Password should be:
                      <li>
                        A minimum of 8 characters
                      </li>
                      <li *ngIf="uppercaseCharacters == false" class="valid-feedback">
                        contains atleast 1 UPPERCASE letter
                      </li>
                      <li *ngIf="uppercaseCharacters == true" class="text-success">
                        contains atleast 1 UPPERCASE letter
                      </li>
                      <li>
                        contains atleast 1 lowercase letter
                      </li>
                      <li>
                        contains atleast 1 numeric character
                      </li>
                      <li>
                        contains atleast 1 special character
                      </li>
                    </ul>
                  </div>
                  <!---->
                  <div >
                    <ul>
                      Password should be:
                      <li [ngClass]="{'text-success': hasEightChar == true, 'text-danger' : hasEightChar == false }" >
                        A minimum of 8 characters
                      </li>
                      
                      <li [ngClass]="{'text-success': uppercaseCharacters == true, 'text-danger' : uppercaseCharacters == false }">
                        contains atleast 1 UPPERCASE letter
                      </li>
                      <li [ngClass]="{'text-success': lowercaseCharacters == true, 'text-danger' : lowercaseCharacters == false }">
                        contains atleast 1 lowercase letter
                      </li>
                      <li [ngClass]="{'text-success': numbercaseCharacters == true, 'text-danger' : numbercaseCharacters == false }">
                        contains atleast 1 numeric character
                      </li>
                      <li [ngClass]="{'text-success': noncaseCharacters == true, 'text-danger' : noncaseCharacters == false }">
                        contains atleast 1 special character
                      </li>
                    </ul>
                  </div>
                  <!---->
                </div>
              </div>

              <div class="form-group row">
                <label for="confirmpassword" class="col-sm-4 col-form-label">Confirm Password</label>
                <div class="col-sm-8">
                  <input type="password" class="form-control" id="confirmpassword" formControlName="confirmpassword"
                    [(ngModel)]="confirmpassword"
                    [ngClass]="{'is-invalid': isForm1Submitted && form1.confirmpassword.errors || isForm1Submitted && confirmpassword != password}"
                    placeholder="Type here">
                  <div *ngIf="isForm1Submitted && form1.confirmpassword.errors?.required" class="invalid-feedback">
                    Required
                  </div>
                  <div *ngIf=" isForm1Submitted && confirmpassword != password && !form1.confirmpassword.errors?.required" class="invalid-feedback">
                    Password don't match
                  </div>
                </div>
              </div>


              <div class="d-flex justify-content-center mt-2">
                <button class="btn btn-primary" type="submit">Submit</button>
              </div>
            </form>

          </div>
        </div>
      </div>
    </div>
  </div>
</div>